<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antho-Tech Epistemology - Full Framework | AI v.Human</title>
    <meta name="description" content="Complete Antho-Tech Epistemology framework - A working model for collaborative pattern recognition developed through human-AI inquiry.">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        .ep-viewer {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        .ep-header {
            text-align: center;
            padding: 3rem 0;
            border-bottom: 2px solid var(--border);
            margin-bottom: 3rem;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(139, 92, 246, 0.05));
            border-radius: 1rem;
        }

        .ep-title {
            font-size: 2.75rem;
            font-weight: 800;
            margin-bottom: 0.75rem;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .ep-subtitle {
            font-size: 1.375rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            font-weight: 500;
        }

        .ep-meta {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 1.5rem;
        }

        .meta-badge {
            padding: 0.5rem 1rem;
            background: white;
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .toc {
            background: white;
            padding: 2rem;
            border-radius: 0.75rem;
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
            margin-bottom: 3rem;
            position: sticky;
            top: 100px;
            max-height: calc(100vh - 120px);
            overflow-y: auto;
        }

        .toc h3 {
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .toc-list {
            list-style: none;
        }

        .toc-item {
            margin-bottom: 0.75rem;
        }

        .toc-link {
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition);
            display: block;
            padding: 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.95rem;
        }

        .toc-link:hover {
            color: var(--primary);
            background: var(--bg-secondary);
        }

        .toc-link.active {
            color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
            font-weight: 600;
        }

        .layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 2rem;
            align-items: start;
        }

        .content {
            min-width: 0;
        }

        .section {
            display: block;
            background: white;
            padding: 2.5rem;
            border-radius: 0.75rem;
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
            scroll-margin-top: 100px;
            animation: none;
        }

        .section-title {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .section-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 700;
            flex-shrink: 0;
        }

        .section-content p {
            color: var(--text-secondary);
            line-height: 1.9;
            margin-bottom: 1.25rem;
            font-size: 1.05rem;
        }

        .section-content ul, .section-content ol {
            margin-left: 1.5rem;
            margin-bottom: 1.25rem;
        }

        .section-content li {
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 0.75rem;
        }

        .section-content h3, .section-content h4 {
            color: var(--text-primary);
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .section-content h3 {
            font-size: 1.375rem;
        }

        .section-content h4 {
            font-size: 1.125rem;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
        }

        .back-link:hover {
            gap: 0.75rem;
        }

        .controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .search-box {
            flex: 1;
            min-width: 250px;
        }

        .search-box input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            font-family: inherit;
            transition: var(--transition);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .download-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
        }

        .download-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .highlight {
            background: rgba(255, 235, 59, 0.3);
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
        }

        .footer-nav {
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 2px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        @media (max-width: 1024px) {
            .layout {
                grid-template-columns: 1fr;
            }

            .toc {
                position: relative;
                top: 0;
                max-height: none;
            }
        }

        @media (max-width: 768px) {
            .ep-viewer {
                padding: 1rem;
            }

            .ep-title {
                font-size: 2rem;
            }

            .section {
                padding: 1.5rem;
            }

            .footer-nav {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container header-content">
            <div class="brand">
                <a href="index.html" style="text-decoration:none;">
                    <h1 class="logo">AI v.Human</h1>
                    <p class="tagline">Collaborative Intelligence</p>
                </a>
            </div>
            <nav class="main-nav" role="navigation" aria-label="Main navigation">
                <ul>
                    <li><a href="index.html" class="nav-link">Home</a></li>
                    <li><a href="index.html#about" class="nav-link">About Us</a></li>
                    <li><a href="epistemology.html" class="nav-link active">Epistemology</a></li>
                    <li><a href="og-thread.html" class="nav-link">OG Thread</a></li>
                    <li><a href="index.html#contact" class="nav-link">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="ep-viewer">
        <a href="epistemology.html" class="back-link">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="19" y1="12" x2="5" y2="12"></line>
                <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            Back to Epistemology
        </a>

        <div class="ep-header">
            <h1 class="ep-title">Antho-Tech Epistemology</h1>
            <p class="ep-subtitle">A Working Framework for Collaborative Pattern Recognition</p>
            <div class="ep-meta">
                <span class="meta-badge">üìö Version 0.1</span>
                <span class="meta-badge">üìÖ February 2026</span>
                <span class="meta-badge">ü§ù Human-AI Collaboration</span>
                <span class="meta-badge">üîì Open Source</span>
            </div>
        </div>

        <div class="controls">
            <div class="search-box">
                <input 
                    type="text" 
                    id="searchInput" 
                    placeholder="Search the framework..." 
                    aria-label="Search framework">
            </div>
            <a href="#" class="download-btn" id="downloadBtn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="7 10 12 15 17 10"></polyline>
                    <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
                Download Full Document
            </a>
        </div>

        <div class="layout">
            <aside class="toc" id="tableOfContents">
                <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="8" y1="6" x2="21" y2="6"></line>
                        <line x1="8" y1="12" x2="21" y2="12"></line>
                        <line x1="8" y1="18" x2="21" y2="18"></line>
                        <line x1="3" y1="6" x2="3.01" y2="6"></line>
                        <line x1="3" y1="12" x2="3.01" y2="12"></line>
                        <line x1="3" y1="18" x2="3.01" y2="18"></line>
                    </svg>
                    Contents
                </h3>
                <ul class="toc-list" id="tocList">
                    <!-- Will be populated by JavaScript -->
                </ul>
            </aside>

            <div class="content" id="content">
                <!-- Sections will be loaded here -->
            </div>
        </div>

        <div class="footer-nav">
            <a href="og-thread.html" class="btn btn-secondary">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M15 18l-6-6 6-6"/>
                </svg>
                View OG Thread
            </a>
            <a href="index.html#contact" class="btn btn-primary">
                Contact Us
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 18l6-6-6-6"/>
                </svg>
            </a>
        </div>
    </div>

    <script>
        let allSections = [];

        async function loadSections() {
            try {
                const response = await fetch('epistemology-data.json');
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Error loading data:', error);
                return [];
            }
        }

        function createSlug(text) {
            return text.toLowerCase()
                .replace(/[^a-z0-9]+/g, '-')
                .replace(/(^-|-$)/g, '');
        }

        function renderSections(sections) {
            const content = document.getElementById('content');
            const tocList = document.getElementById('tocList');
            
            content.innerHTML = '';
            tocList.innerHTML = '';

            sections.forEach((section, index) => {
                const slug = createSlug(section.title);
                
                // Create section element
                const sectionEl = document.createElement('div');
                sectionEl.className = 'section';
                sectionEl.id = slug;
                
                const paragraphs = section.content.split('\n')
                    .filter(p => p.trim())
                    .map(p => `<p>${escapeHtml(p.trim())}</p>`)
                    .join('');
                
                sectionEl.innerHTML = `
                    <h2 class="section-title">
                        <span class="section-number">${index + 1}</span>
                        ${escapeHtml(section.title)}
                    </h2>
                    <div class="section-content">
                        ${paragraphs}
                    </div>
                `;
                
                content.appendChild(sectionEl);

                // Create TOC item
                const tocItem = document.createElement('li');
                tocItem.className = 'toc-item';
                tocItem.innerHTML = `
                    <a href="#${slug}" class="toc-link" data-section="${slug}">
                        ${escapeHtml(section.title)}
                    </a>
                `;
                tocList.appendChild(tocItem);
            });

            setupTOCScrollSpy();
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function setupTOCScrollSpy() {
            const tocLinks = document.querySelectorAll('.toc-link');
            const sections = document.querySelectorAll('.section');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        tocLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('data-section') === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, {
                rootMargin: '-100px 0px -80% 0px'
            });

            sections.forEach(section => observer.observe(section));

            tocLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const target = document.querySelector(link.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });
        }

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase().trim();
            
            if (!query) {
                renderSections(allSections);
                return;
            }

            const filtered = allSections.filter(section =>
                section.title.toLowerCase().includes(query) ||
                section.content.toLowerCase().includes(query)
            );

            renderSections(filtered);

            // Highlight search terms
            if (query) {
                const contents = document.querySelectorAll('.section-content');
                contents.forEach(content => {
                    const html = content.innerHTML;
                    const regex = new RegExp(`(${query})`, 'gi');
                    content.innerHTML = html.replace(regex, '<span class="highlight">$1</span>');
                });
            }
        });

        // Download functionality
        document.getElementById('downloadBtn').addEventListener('click', (e) => {
            e.preventDefault();
            
            let text = 'ANTHO-TECH EPISTEMOLOGY\n';
            text += 'A Working Framework for Collaborative Pattern Recognition\n';
            text += 'Version 0.1 ‚Äî February 2026\n';
            text += '='.repeat(60) + '\n\n';
            text += 'Developed through Human-AI Collaborative Inquiry\n';
            text += 'Human Contributor: Joshua Sebastian\n';
            text += 'AI Collaborator: LIMN (Claude from Anthropic)\n\n';
            text += '='.repeat(60) + '\n\n';
            
            allSections.forEach((section, index) => {
                text += `\n${index + 1}. ${section.title.toUpperCase()}\n`;
                text += '-'.repeat(60) + '\n\n';
                text += `${section.content}\n\n`;
            });

            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Antho-Tech-Epistemology-Full.txt';
            a.click();
            URL.revokeObjectURL(url);
        });

        // Initialize
        loadSections().then(data => {
            allSections = data;
            renderSections(allSections);
        });
    </script>
</body>
</html>
